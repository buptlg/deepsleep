---
description: 
globs: 
alwaysApply: false
---
UC-003 提交充电请求用例描述
用例编号:	UC-003
用例名称:	提交充电请求
范围：	服务器子系统
级别：	用户目标级别
主要参与者:	用户客户端
前置条件:	用户已登录且充电站等候区未满
后置条件：	生成排队号（F/T类型），记录充电请求信息，等候区剩余车位减少1
主要成功场景:
1．	用户选择充电模式（快充/F或慢充/T），输入充电量
2．	用户客户端向服务器提交充电请求
3．	服务器验证用户登录状态及等候区剩余车位
4.	服务器生成对应排队号，记录充电请求信息
5.	用户客户端显示排队号及前车等待数量
6.	等候区剩余车位减少1，车辆加入对应模式队列，用例结束
扩展（或替代流程）: 
*a
	系统提交失败
	(1) 用户客户端提示请求提交失败
(2) 用户重新提交请求或退出流程
*b	等候区车位为0
	(1) 服务器返回暂无可用车位的错误提示
(2) 用户客户端显示“排队失败”状态
3.1扩展用例	用户未登录
	(1) 用户客户端检测到未登录状态，弹出登录提示框
(2) 用户选择“立即登录”或“取消”
  (2a) 用户登录
     (2a1) 跳转至登录流程（引用用例 UC-004 用户登录）。
     (2a2) 登录成功后，自动返回充电请求页面，保留已输入的充电模式与电量
  (2b) 用户取消
      (2b1) 终止当前请求，返回主界面
4.4 UC-004 查看本车排队情况用例描述
用例编号:	UC-003
用例名称:	查看本车排队号码
范围：	服务器子系统
级别：	用户目标级别
主要参与者:	用户客户端
前置条件:	用户已提交过充电请求，服务器已生成有效的排队号
后置条件：	用户客户端显示当前排队号及本充电模式下的前车等待数量
主要成功场景:
1.	用户在用户客户端选择“查看本车排队情况”
2.	用户客户端向服务器发送请求，查询当前用户的排队号及队列状态
3．	服务器返回排队号、充电模式、前方等待车辆数
4．	用户客户端接收并解析响应数据，显示排队号及前方等待车辆数，用例结束
扩展（或替代流程）: 
*a	用户未提交充电请求
	(1) 服务器返回无有效排队号的错误信息
(2) 用户客户端提示提交充电请求
*b	充电已开始或结束
	(1) 服务器返回当前不在等待队列中的错误信息
 (2) 用户客户端提示充电进行中/已完成
4.5 UC-005 修改充电请求用例描述
用例编号:	UC-005
用例名称:	修改充电请求
范围：	服务器子系统
级别：	用户目标级别
主要参与者:	用户客户端
前置条件:	用户已提交过充电请求
后置条件：	取消原充电请求，生成新的排队号并记录修改后的请求，调整等候区队列
主要成功场景:
1.	用户在用户客户端选择“修改充电请求”
2.	系统显示原充电请求的详细信息
3．	用户修改充电模式（快充/F或慢充/T）和充电量，并确认提交修改
4．	用户客户端向服务器提交修改后的充电请求
5．	服务器验证修改合法性
6.	服务器将原充电请求标记为“已取消”，释放原队列占用的等候区车位
7.	服务器生成新的排队号并记录修改后的充电请求信息
8.	服务器将用户加入新充电模式对应的队列，更新目标队列的剩余车位数量，用例结束
扩展（或替代流程）: 
*a	用户取消修改
	(1) 系统丢弃修改内容，返回原充电请求页面。
(2) 原排队号及队列状态保持不变。
*b
	系统提交失败
	(1) 用户客户端提示请求提交失败
(2) 用户重新提交请求或退出流程
3.1扩展用例	用户未登录
	(1) 用户客户端检测到未登录状态，弹出登录提示框
(2) 用户选择“登录”或“取消”
  (2a) 用户登录
     (2a1) 跳转至登录流程（引用用例 UC-002 用户登录）。
     (2a2) 登录成功后，自动返回充电请求页面，保留已输入的充电模式与电量
  (2b) 用户取消
      (2b1) 终止当前请求，返回主界面
3.2扩展用例	等候区车位为0
	(1) 服务器返回暂无可用车位的错误提示
(2) 用户客户端显示“排队失败”状态
5.1扩展用例	用户修改后的充电模式对应队列已满
	(1) 服务器返回目标队列暂无空位的错误提示
(2) 用户客户端显示错误信息，保留原请求状态
5.2扩展用例	用户原请求已被调度
	(1) 返回当前请求请求已被调度，不可修改的错误提示
(2) 返回主界面
4.6 UC-006 结束充电用例描述
用例编号:	UC-006
用例名称:	结束充电
范围：	服务器子系统
级别：	用户目标级别
主要参与者:	用户客户端
前置条件:	用户已提交过充电请求
后置条件：	充电桩停止充电，释放车位；服务器生成充电详单并更新统计数据
主要成功场景:
1.	用户在用户客户端选择“结束充电”
2.	服务器检查用户是否正在进行充电
3．	服务器向充电桩发送停止指令，充电桩终止充电并上报实时充电数据
4．	服务器生成详单（引用用例UC-017）
5.	服务器释放充电桩资源，更新充电桩队列的剩余车位数量
6.	用户客户端显示充电结束通知，用例结束
扩展（或替代流程）: 
*a
	用户无正在进行的充电
	(1) 服务器返回当前无正在进行的充电的错误提示
(2) 用户客户端显示错误信息
*b
	系统提交失败
	(1) 用户客户端提示请求提交失败
(2) 用户重新提交请求
4.7 UC-007 查看充电详单信息用例描述
用例编号:	UC-007
用例名称:	查看充电详单信息
范围：	服务器子系统
级别：	用户目标级别
主要参与者:	用户客户端
前置条件:	用户有已结束的充电记录，服务器已生成详单
后置条件：	用户客户端显示充电详单信息
主要成功场景:
1.	用户在用户客户端选择“查看充电详单信息”
2.	用户客户端将用户请求发送至服务器
3．	服务器检查用户是否有已结束的充电记录
4．	服务器返回详单信息
5．	用户客户端展示详单信息，用例结束
扩展（或替代流程）: 
*a
	用户无已结束的充电记录
	(1) 服务器返回当前无已结束的充电记录的错误提示
(2) 用户客户端显示错误信息
*b
	系统提交失败
	(1) 用户客户端提示请求提交失败
(2) 用户重新提交请求或退出流程
4.8 UC-008 启动充电桩用例描述
用例编号:	UC-008
用例名称:	启动充电桩
范围：	服务器子系统
级别：	用户目标级别
主要参与者:	管理员客户端
前置条件:	目标充电桩处于关闭状态
后置条件：	充电桩进入工作状态，服务器更新充电桩状态并同步至管理员客户端
主要成功场景:
1.	管理员在管理员客户端界面选择需要启动的充电桩
2.	管理员客户端将管理员请求发送至服务器
3．	服务器检查目标充电桩是否处于关闭状态
4．	服务器向目标充电桩发送启动指令
5．	充电桩执行启动操作
6．	服务器更新充电桩状态
7.	管理员客户端显示充电桩启动成功提示，用例结束
扩展（或替代流程）: 
*a
	充电桩已处于工作状态
	(1) 服务器忽略指令
(2) 管理员客户端提示该充电桩已启动
*b
	系统提交失败
	(1) 管理员客户端提示请求提交失败
(2) 管理员重新提交请求
4.9 UC-009 关闭充电桩用例描述
用例编号:	UC-009
用例名称:	关闭充电桩
范围：	服务器子系统
级别：	用户目标级别
主要参与者:	管理员客户端
前置条件:	目标充电桩处于工作状态
后置条件：	充电桩进入关闭状态，服务器更新充电桩状态并同步至管理员客户端
主要成功场景:
1.	管理员在管理员客户端界面选择需要关闭的充电桩
2.	管理员客户端将管理员请求发送至服务器
3．	服务器检查目标充电桩是否处于工作状态
4．	服务器向目标充电桩发送关闭指令
5．	充电桩执行关闭操作
6．	服务器更新充电桩状态
7.	管理员客户端显示充电桩关闭成功提示，用例结束
扩展（或替代流程）: 
*a
	充电桩已处于关闭状态
	(1) 服务器忽略指令
(2) 管理员客户端提示该充电桩已关闭
*b
	系统提交失败
	(1) 管理员客户端提示请求提交失败
(2) 管理员重新提交请求
4.10 UC-010 查看充电桩状态用例描述
用例编号:	UC-010
用例名称:	查看充电桩状态
范围：	服务器子系统
级别：	用户目标级别
主要参与者:	管理员客户端
前置条件:	
后置条件：	管理员客户端展示所有充电桩的状态信息
主要成功场景:
1.	管理员在管理员客户端界面选择查看充电桩状态
2.	管理员客户端将管理员请求发送至服务器
3．	服务器将所有充电桩的状态数据返回客户端
4．	管理员客户端展示所有充电桩的状态信息，用例结束
扩展（或替代流程）: 
	
4.11 UC-011 查看等候车辆信息用例描述
用例编号:	UC-010
用例名称:	查看等候车辆信息
范围：	服务器子系统
级别：	用户目标级别
主要参与者:	管理员客户端
前置条件:	系统中有车辆在等候区或充电桩队列中等待
后置条件：	管理员客户端展示等候车辆信息
主要成功场景:
1.	管理员在管理员客户端界面选择查看等候车辆信息
2.	管理员客户端将管理员请求发送至服务器
3．	服务器将等候车辆信息返回客户端
4．	管理员客户端展示等候车辆信息，用例结束
扩展（或替代流程）: 
*a	系统中没有车辆在等候区或充电桩队列中等待
	（1）服务器返回无等候车辆的错误信息
（2）管理员客户端提示无等候车辆
4.12 UC-012 查看报表用例描述
用例编号:	UC-012
用例名称:	查看等候车辆信息
范围：	服务器子系统
级别：	用户目标级别
主要参与者:	管理员客户端
前置条件:	
后置条件：	管理员客户端展示报表
主要成功场景:
1.	管理员在管理员客户端界面选择查看报表
2.	管理员客户端将管理员请求发送至服务器
3．	服务器根据充电记录生成报表（引用用例UC-019）
4．	服务器将报表返回给管理员客户端
5.	管理员客户端展示报表，用例结束
扩展（或替代流程）: 
*a	系统中没有车辆在等候区或充电桩队列中等待
	（1）服务器返回无等候车辆的错误信息
（2）管理员客户端提示无等候车辆
4.13 UC-013 调度车辆用例描述
用例编号:	UC-013
用例名称:	调度车辆
范围：	服务器子系统、充电桩子系统
级别：	用户目标级别
主要参与者:	充电桩
前置条件:	系统中有车辆在等候区等待充电，至少有一个匹配类型的充电桩有空闲队列位置
后置条件：	等候区车辆被分配到最优充电桩队列，充电桩队列状态更新，用户客户端收到排队状态更新通知
主要成功场景:
1.	服务器检测到充电桩队列是否有空位
2.	服务器获取等候区匹配充电模式的车辆和对应类型充电桩的当前队列状态
3．	服务器计算每个候选车辆分配到各可用充电桩时的总完成时间
4．	服务器按照最短总完成时间策略选择分配方案
5.	充电桩执行调度策略（引用用例UC-016执行调度策略），用例结束
扩展（或替代流程）: 
*a	系统中无匹配车辆
	服务器暂停该类型充电桩的调度，等待新车辆到达
3.1替代流程	故障充电桩恢复时，优先调度其原队列中的车辆
4.14 UC-014 监控充电桩状态用例描述
用例编号:	UC-014
用例名称:	监控充电桩状态
范围：	服务器子系统
级别：	子系统目标级别
主要参与者:	充电桩
前置条件:	
后置条件：	服务器记录充电桩状态并同步至管理员客户端
主要成功场景:
1.	服务器向所有充电桩发送状态查询请求
2.	充电桩返回状态信息
3．	服务器判断是否故障
4．	服务器记录充电桩最新状态，用例结束
扩展（或替代流程）: 
3.1扩展用例	充电桩故障
	进行故障处理（引用用例UC-015处理充电桩故障）
4.15 UC-015 处理充电桩故障用例描述
用例编号:	UC-015
用例名称:	处理充电桩故障
范围：	服务器子系统
级别：	子系统目标级别
主要参与者:	充电桩
前置条件:	充电桩处于故障状态
后置条件：	故障充电桩停止服务，队列中的车辆被重新调度
主要成功场景:
1.	服务器向所有充电桩发送状态查询请求
2.	充电桩返回状态信息
3．	服务器判断是否故障
4．	服务器记录充电桩最新状态，用例结束
扩展（或替代流程）: 
3.1扩展用例	充电桩处于故障状态
	进行故障处理（引用用例UC-015处理充电桩故障）
4.16 UC-016 执行调度策略用例描述
用例编号:	UC-016
用例名称:	执行调度策略
范围：	充电桩子系统
级别：	子系统目标级别
主要参与者:	服务器
前置条件:	充电桩处于正常工作状态，服务器已生成调度策略
后置条件：	车辆按调度策略被分配到充电桩队列，服务器更新充电桩队列信息
主要成功场景:
1.	充电桩从服务器接收调度指令
2.	服务器将车辆加入选定的充电桩队列，充电桩更新本地队列
3．	服务器更新充电桩队列信息，用例结束
扩展（或替代流程）: 
3.1扩展用例	充电桩处于故障状态
4.17 UC-017 生成充电详单用例描述
用例编号:	UC-017
用例名称:	生成充电详单
范围：	充电桩子系统
级别：	子系统目标级别
主要参与者:	服务器
前置条件:	用户已结束充电，服务器中存在充电记录的相关数据
后置条件：	服务器生成充电详单
主要成功场景:
1.	服务器提取用户在该充电桩的充电记录
2.	服务器计算费用（引用用例UC-018）
3．	服务器汇总相关数据并生成充电详单，用例结束
扩展（或替代流程）: 
	
4.18 UC-018 计费用例描述
用例编号:	UC-018
用例名称:	计费
范围：	充电桩子系统
级别：	子系统目标级别
主要参与者:	服务器
前置条件:	充电桩已结束充电,服务器中存在充电记录的相关数据
后置条件：	系统计算出并记录该充电记录的费用
主要成功场景:
1.	服务器获取用户的充电记录
2.	服务器根据预设的计费规则计算出充电费用
3．	服务器记录充电费用，用例结束
扩展（或替代流程）: 
	
4.19 UC-019 生成报表用例描述
用例编号:	UC-019
用例名称:	生成报表
范围：	充电桩子系统
级别：	子系统目标级别
主要参与者:	服务器
前置条件:	服务器中存在相关的充电记录
后置条件：	服务器生成报表
主要成功场景:
1.	服务器获取用户的充电记录
2.	服务器计算并汇总报表字段数据，用例结束

扩展（或替代流程）: 